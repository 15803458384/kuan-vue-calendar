!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("@babel/runtime/helpers/toConsumableArray"),require("@babel/runtime/helpers/slicedToArray")):"function"==typeof define&&define.amd?define("kuan-vue-calendar",["@babel/runtime/helpers/toConsumableArray","@babel/runtime/helpers/slicedToArray"],n):"object"==typeof exports?exports["kuan-vue-calendar"]=n(require("@babel/runtime/helpers/toConsumableArray"),require("@babel/runtime/helpers/slicedToArray")):e["kuan-vue-calendar"]=n(e["@babel/runtime/helpers/toConsumableArray"],e["@babel/runtime/helpers/slicedToArray"])}(this,function(t,r){return o={},a.m=i=[function(e,n){e.exports=t},function(e,n,t){var r=t(8);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t(6).default)("12e803ee",r,!0,{})},function(e,n,t){var r=t(10);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t(6).default)("c671005c",r,!0,{})},function(e,n,t){var r=t(12);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t(6).default)("3f22f66f",r,!0,{})},function(e,n){e.exports=r},function(e,n,t){"use strict";e.exports=function(t){var o=[];return o.toString=function(){return this.map(function(e){var n=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var a=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[t].concat(i).concat([a]).join("\n")}return[t].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},o.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var t={},r=0;r<this.length;r++){var a=this[r][0];null!=a&&(t[a]=!0)}for(r=0;r<e.length;r++){var i=e[r];null!=i[0]&&t[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),o.push(i))}},o}},function(e,n,t){"use strict";function u(e,n){for(var t=[],r={},a=0;a<n.length;a++){var i=n[a],o=i[0],s={id:e+":"+a,css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(s):t.push(r[o]={id:o,parts:[s]})}return t}t.r(n),t.d(n,"default",function(){return h});var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var d={},a=r&&(document.head||document.getElementsByTagName("head")[0]),i=null,o=0,c=!1,s=function(){},l=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(o,e,n,t){c=n,l=t||{};var s=u(o,e);return v(s),function(e){for(var n=[],t=0;t<s.length;t++){var r=s[t];(a=d[r.id]).refs--,n.push(a)}e?v(s=u(o,e)):s=[];for(t=0;t<n.length;t++){var a;if(0===(a=n[t]).refs){for(var i=0;i<a.parts.length;i++)a.parts[i]();delete d[a.id]}}}}function v(e){for(var n=0;n<e.length;n++){var t=e[n],r=d[t.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](t.parts[a]);for(;a<t.parts.length;a++)r.parts.push(y(t.parts[a]));r.parts.length>t.parts.length&&(r.parts.length=t.parts.length)}else{var i=[];for(a=0;a<t.parts.length;a++)i.push(y(t.parts[a]));d[t.id]={id:t.id,refs:1,parts:i}}}}function m(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function y(n){var t,r,e=document.querySelector("style["+f+'~="'+n.id+'"]');if(e){if(c)return s;e.parentNode.removeChild(e)}if(p){var a=o++;e=i=i||m(),t=x.bind(null,e,a,!1),r=x.bind(null,e,a,!0)}else e=m(),t=function(e,n){var t=n.css,r=n.media,a=n.sourceMap;r&&e.setAttribute("media",r);l.ssrId&&e.setAttribute(f,n.id);a&&(t+="\n/*# sourceURL="+a.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,e),r=function(){e.parentNode.removeChild(e)};return t(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;t(n=e)}else r()}}var b,g=(b=[],function(e,n){return b[e]=n,b.filter(Boolean).join("\n")});function x(e,n,t,r){var a=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(n,a);else{var i=document.createTextNode(a),o=e.childNodes;o[n]&&e.removeChild(o[n]),o.length?e.insertBefore(i,o[n]):e.appendChild(i)}}},function(e,n,t){"use strict";var r=t(1);t.n(r).a},function(e,n,t){(e.exports=t(5)(!1)).push([e.i,".calendar-item[data-v-dd509ff8] {\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 auto;\n  padding: 5px;\n}\n.day[data-v-dd509ff8] {\n  width: 22px;\n  height: 24px;\n  line-height: 24px;\n  border-radius: 2px;\n  box-sizing: border-box;\n}\n.day-item[data-v-dd509ff8] {\n  width: 14.2857%;\n  text-align: center;\n  font-size: 14px;\n  height: 28px;\n  color: #333;\n  line-height: 1;\n  padding: 2px 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.day-item:active .day[data-v-dd509ff8] {\n    background: #3f8de2;\n    color: white;\n    opacity: 0.5;\n}\n.day-item.prev[data-v-dd509ff8], .day-item.next[data-v-dd509ff8] {\n    color: #ccc;\n    font-weight: normal;\n    cursor: default;\n}\n.day-item.today .day[data-v-dd509ff8] {\n    border: 1px solid #3f8de2;\n    color: #3f8de2;\n}\n.day-item.active .day[data-v-dd509ff8] {\n    color: white;\n    background: #3f8de2;\n}\n",""])},function(e,n,t){"use strict";var r=t(2);t.n(r).a},function(e,n,t){(e.exports=t(5)(!1)).push([e.i,".kuan-calendar[data-v-d524b708] {\n  width: 230px;\n  max-width: 100%;\n  border-radius: 4px;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.18);\n  background: white;\n}\n.calendar-header[data-v-d524b708] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 14px;\n  padding: 0 10px;\n  border-bottom: 1px solid #eee;\n}\n.calendar-header .current-date[data-v-d524b708] {\n    flex: 1;\n    text-align: center;\n}\n.calendar-header .iconfont[data-v-d524b708] {\n    font-size: 12px;\n    color: #666;\n    cursor: pointer;\n    padding: 10px 5px 8px;\n}\n.footer[data-v-d524b708] {\n  height: 36px;\n  line-height: 36px;\n  font-size: 14px;\n  text-align: center;\n  border-top: 1px solid #eee;\n  color: #3f8de2;\n  cursor: pointer;\n}\n",""])},function(e,n,t){"use strict";var r=t(3);t.n(r).a},function(e,n,t){(e.exports=t(5)(!1)).push([e.i,".kuan-calendar-outer {\n  height: 35px;\n  width: 230px;\n  position: relative;\n}\n.kuan-calendar-outer .close-bg {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n}\n.kuan-calendar-outer.active {\n    z-index: 1000;\n}\n.kuan-calendar-outer .kuan-calendar-picker {\n    width: 100%;\n    display: inline-block;\n    position: relative;\n    border: 1px solid #d9d9d9;\n    border: 4px;\n    transition: box-shadow 0.3s;\n}\n.kuan-calendar-outer .kuan-calendar-picker.active {\n      box-shadow: 0 0 5px rgba(0, 0, 0, 0.18);\n      position: absolute;\n      left: 0;\n      top: 0;\n}\n.kuan-calendar-outer .kuan-calendar-picker.active .input {\n        border: none;\n        border-radius: 0;\n}\n.kuan-calendar-outer .kuan-calendar-picker .kuan-calendar {\n      border-radius: 0 0 4px 4px;\n      box-shadow: none;\n      border-top: 1px solid #eee;\n      transform-origin: left top;\n}\n.kuan-calendar-outer .kuan-calendar-picker .input {\n      padding: 8px 12px;\n      border: none;\n      width: 100%;\n      -webkit-appearance: none;\n         -moz-appearance: none;\n              appearance: none;\n      outline: none;\n      box-sizing: border-box;\n      font-size: 14px;\n      width: 100%;\n      border: 1px solid #dbdbdb;\n      cursor: pointer;\n      border-radius: 3px;\n}\n.kuan-calendar-outer .kuan-calendar-picker .calendar-enter-active,\n    .kuan-calendar-outer .kuan-calendar-picker .calendar-leave-active {\n      transition: opacity 0.1s, transform 0.1s;\n      transform: scaleY(1);\n}\n.kuan-calendar-outer .kuan-calendar-picker .calendar-enter,\n    .kuan-calendar-outer .kuan-calendar-picker .calendar-leave-to {\n      opacity: 0;\n      transform: scaleY(0);\n}\n",""])},function(e,n,t){"use strict";t.r(n);var r,a=t(4),o=t.n(a),i=t(0),s=t.n(i),u=new Date,d=u.getFullYear(),c=u.getMonth()+1,l=u.getDate();function f(e){return new Date((0<arguments.length&&void 0!==e?e:"").replace(/-/g,"/"))}function p(e){var n=e.year,t=e.month,r=e.day;return c===t&&d===n&&l===r&&(e.isNow=!0),e}function h(e){var n=e;if(!n){var t=new Date;n={year:t.getFullYear(),month:t.getMonth()+1}}var r=function(e){for(var n=e.year,t=e.month,r=new Date(n,t,0).getDate(),a=[],i=1;i<=r;i++)a.push(p({year:n,month:t,day:i}));return a}(n),a=function(e){var n=e.year,t=e.month,r=[],a=new Date(n,t-1,1).getDay(),i=new Date(n,t-1,0).getDate();if(7===a)return[];for(var o=2<t?t-1:12,s=2<t?n:n-1,u=0;u<a;u++){var d=i-u;r.unshift(p({year:s,month:o,day:d,isPre:!0}))}return r}(n),i=function(e,n){for(var t=e.year,r=e.month,a=[],i=42-n,o=12===r?1:r+1,s=12===r?t+1:t,u=1;u<=i;u++)a.push(p({year:s,month:o,day:u,isNext:!0}));return a}(n,r.length+a.length);return[].concat(s()(a),s()(r),s()(i))}function v(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return 9<e?e:"0".concat(e)}var m={props:{mode:{validator:function(e){return["single","multiple","range"].includes(e)},default:"single"},year:{type:Number,default:d},month:{type:Number,default:c},value:{type:[Array,String],default:function(){return[]}}},data:function(){return{days:h({year:this.year,month:this.month})}},computed:{},watch:{year:function(){this.init()},month:function(){this.init()}},methods:{fixZero:v,init:function(){var e=this;!function(e,n){var t=1<arguments.length&&void 0!==n?n:30;if("function"!=typeof e)throw new Error("必须传入一个函数作为参数");r&&clearTimeout(r),r=setTimeout(function(){e()},t)}(function(){e.days=h({year:e.year,month:e.month})})},itemClick:function(e){e.isPre||e.isNext||this.$emit("click","".concat(e.year,"-").concat(v(e.month),"-").concat(v(e.day)))},isActive:function(e){var n=this.value;if(["single","multiple"].includes(this.mode))return n.includes("".concat(e.year,"-").concat(v(e.month),"-").concat(v(e.day)));if("range"===this.mode){if(!n.length)return!1;var t=o()(n,2),r=t[0],a=t[1];a=a||r;var i=new Date(e.year,e.month-1,e.day);return i>=f(r)&&i<=f(a)}}}};t(7);function y(e,n,t,r,a,i,o,s){var u,d="function"==typeof e?e.options:e;if(n&&(d.render=n,d.staticRenderFns=t,d._compiled=!0),r&&(d.functional=!0),i&&(d._scopeId="data-v-"+i),o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=u):a&&(u=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),u)if(d.functional){d._injectStyles=u;var c=d.render;d.render=function(e,n){return u.call(n),c(e,n)}}else{var l=d.beforeCreate;d.beforeCreate=l?[].concat(l,u):[u]}return{exports:e,options:d}}var b={components:{CalendarItem:y(m,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"calendar-item"},t._l(t.days,function(n){return r("div",{key:""+n.month+n.day,staticClass:"day-item",class:{prev:n.isPre,next:n.isNext,today:n.isNow,active:t.isActive(n)},on:{click:function(e){return t.itemClick(n)}}},[r("div",{staticClass:"day"},[t._v(t._s(n.day))])])}),0)},[],!1,null,"dd509ff8",null).exports},props:{mode:{validator:function(e){return["single","multiple","range"].includes(e)},default:"single"},value:{type:[Array,String],default:""},year:{type:Number,default:d},month:{type:Number,default:c}},data:function(){return{y:this.year,m:this.month}},computed:{valueArr:function(){return"single"===this.mode?[this.value]:this.value}},methods:{select:function(n){var e=s()(this.value);switch(this.mode){case"single":this.$emit("input",n);break;case"multiple":e.includes(n)?this.$emit("input",e.filter(function(e){return e!==n})):(e.push(n),this.$emit("input",e));break;case"range":if(1===e.length){var t=e,r=o()(t,1)[0];f(r)>f(n)?e.unshift(n):e.push(n)}else e=[n];this.$emit("input",e);break;default:console.error("mode类型错误")}},renderPreYear:function(){this.y-=1},renderNextYear:function(){this.y+=1},renderPreMonth:function(){1===this.m?(this.y=this.y-1,this.m=12):this.m-=1},renderNextMonth:function(){12===this.m?(this.y=this.y+1,this.m=1):this.m+=1},renderToday:function(){this.y=d,this.m=c}}},g=(t(9),y(b,function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"kuan-calendar"},[t("div",{staticClass:"calendar-header"},[t("i",{staticClass:"iconfont icon-doubleleft",on:{click:e.renderPreYear}}),e._v(" "),t("i",{staticClass:"iconfont icon-left",on:{click:e.renderPreMonth}}),e._v(" "),t("div",{staticClass:"current-date"},[e._v(e._s(e.y)+"-"+e._s(e.m))]),e._v(" "),t("i",{staticClass:"iconfont icon-right",on:{click:e.renderNextMonth}}),e._v(" "),t("i",{staticClass:"iconfont icon-doubleright",on:{click:e.renderNextYear}})]),e._v(" "),t("calendar-item",{attrs:{mode:e.mode,value:e.valueArr,year:e.y,month:e.m},on:{click:e.select}}),e._v(" "),t("div",{staticClass:"footer",on:{click:e.renderToday}},[e._v("今天")])],1)},[],!1,null,"d524b708",null).exports),x={components:{Calendar:g},props:{mode:{validator:function(e){return["single","multiple","range"].includes(e)},default:"single"},value:{type:[Array,String],default:""},year:{type:Number,default:d},month:{type:Number,default:c}},data:function(){return{visible:!1}},computed:{computedValue:function(){return"single"===this.mode?this.value:"multiple"===this.mode?this.value.join("/"):"range"===this.mode?this.value.join("至"):void 0}},methods:{change:function(e){var n=this;return this.$emit("input",e),["single","multiple"].includes(this.mode)?this.visible=!1:"range"===this.mode&&2===e.length?this.$nextTick(function(){n.visible=!1}):void 0}}},k=(t(11),y(x,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"kuan-calendar-outer",class:{active:n.visible}},[n.visible?t("div",{staticClass:"close-bg",on:{click:function(e){n.visible=!1}}}):n._e(),n._v(" "),t("div",{staticClass:"kuan-calendar-picker",class:{active:n.visible}},[t("input",{staticClass:"input",attrs:{readonly:"",placeholder:"请选择时间"},domProps:{value:n.computedValue},on:{focus:function(e){n.visible=!0}}}),n._v(" "),t("transition",{attrs:{name:"calendar"}},[n.visible?t("calendar",{attrs:{mode:n.mode,value:n.value,year:n.year,month:n.month},on:{input:n.change}}):n._e()],1)],1)])},[],!1,null,null,null).exports);t.d(n,"Calendar",function(){return g}),t.d(n,"CalendarPicker",function(){return k});function _(e){e.component("calendar",g),e.component("calendar-picker",k)}"undefined"!=typeof window&&window.Vue&&_(window.Vue);n.default={install:_}}],a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)a.d(t,r,function(e){return n[e]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="",a(a.s=13);function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}var i,o});